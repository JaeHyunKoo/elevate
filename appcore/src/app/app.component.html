<div *ngIf="!isAppUseAllowed" id="init-app-container">
    <div class="wrapper">
        <div class="logo"></div>
        <div class="text mat-body-1">
            <div>Warming up</div>
        </div>
    </div>
</div>
<div #appContainer [fxHide]="!isAppUseAllowed" class="mat-body-1" id="app-container">
    <ng-container appTopBar></ng-container>
    <mat-sidenav-container>
        <mat-sidenav #sidenav
                     (closed)="onSideNavClosed()"
                     (opened)="onSideNavOpened()"
                     mode="side">
            <mat-nav-list>
                <mat-list-item *ngFor="let item of mainMenuItems" routerLink="/{{item.routerLink}}"
                               routerLinkActive="{{item.routerLinkActive}}">
                    <mat-icon>{{item.icon}}</mat-icon>
                    <span class="mat-body-1">{{item.name}}</span>
                </mat-list-item>
                <mat-list-item (click)="onOpenLink('https://www.strava.com/dashboard')"
                               *ngIf="(envTarget === EnvTarget.EXTENSION)">
                    <mat-icon svgIcon="strava"></mat-icon>
                    <span class="mat-body-1">Strava Dashboard</span>
                </mat-list-item>
            </mat-nav-list>

            <div id="logo"></div>

        </mat-sidenav>

        <mat-toolbar>

            <button (click)="onSideNavToggle()" id="toolBarMenu" mat-icon-button>
                <mat-icon>menu</mat-icon>
            </button>

            <span>{{toolBarTitle}}</span>

            <span class="toolbar-spacer"></span>

            <ng-container appSyncMenu></ng-container>

            <button (click)="onThemeToggle()" id="theme-toggle" mat-icon-button>
                <mat-icon *ngIf="currentTheme === Theme.LIGHT"
                          style="transform: rotate(-35deg) scaleX(-1);">
                    brightness_3 <!--Moon icon rotate by -35deg-->
                </mat-icon>
                <mat-icon *ngIf="currentTheme === Theme.DARK">wb_sunny</mat-icon><!--Sun icon-->
            </button>

            <ng-container appMoreMenu></ng-container>

        </mat-toolbar>
        <div>
            <ng-container appSyncBar></ng-container>
            <ng-container appRefreshStatsBar></ng-container>
            <router-outlet></router-outlet>
        </div>
    </mat-sidenav-container>
</div>
