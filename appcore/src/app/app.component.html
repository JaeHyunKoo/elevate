<div id="init-app-container" *ngIf="!isAppUseAllowed">
	<div class="wrapper">
		<div class="logo"></div>
		<div class="text mat-body-1">
			<div>Warming up</div>
		</div>
	</div>
</div>
<div id="app-container" class="mat-body-1" #appContainer [fxHide]="!isAppUseAllowed">
	<ng-container appTopBar></ng-container>
	<mat-sidenav-container>
		<mat-sidenav #sidenav
					 mode="side"
					 (opened)="onSideNavOpened()"
					 (closed)="onSideNavClosed()">
			<mat-nav-list>
				<mat-list-item *ngFor="let item of mainMenuItems" routerLink="/{{item.routerLink}}"
							   routerLinkActive="{{item.routerLinkActive}}">
					<mat-icon>{{item.icon}}</mat-icon>
					<span class="mat-body-1">{{item.name}}</span>
				</mat-list-item>
				<mat-list-item *ngIf="(envTarget === EnvTarget.EXTENSION)"
							   (click)="onOpenLink('https://www.strava.com/dashboard')">
					<mat-icon svgIcon="strava"></mat-icon>
					<span class="mat-body-1">Strava Dashboard</span>
				</mat-list-item>
			</mat-nav-list>

			<div id="logo"></div>

		</mat-sidenav>

		<mat-toolbar>

			<button mat-icon-button id="toolBarMenu" (click)="onSideNavToggle()">
				<mat-icon>menu</mat-icon>
			</button>

			<span>{{toolBarTitle}}</span>

			<span class="toolbar-spacer"></span>

			<ng-container appSyncMenu></ng-container>

			<button id="theme-toggle" mat-icon-button (click)="onThemeToggle()">
				<mat-icon *ngIf="currentTheme === Theme.LIGHT"
						  style="transform: rotate(-35deg) scaleX(-1);">
					brightness_3 <!--Moon icon rotate by -35deg-->
				</mat-icon>
				<mat-icon *ngIf="currentTheme === Theme.DARK">wb_sunny</mat-icon><!--Sun icon-->
			</button>

			<ng-container appMoreMenu></ng-container>

		</mat-toolbar>
		<div>
			<ng-container appSyncBar></ng-container>
			<ng-container appRefreshStatsBar></ng-container>
			<router-outlet></router-outlet>
		</div>
	</mat-sidenav-container>
</div>
