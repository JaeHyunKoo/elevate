{
	"name": "elevate",
	"version": "6.11.0",
	"description": "Wrap the needed tools required to cook the Elevate Web Plugin",
	"scripts": {
		"build:extension@dev": "npm-run-all clean extension-res-copy:* build:core@dev build:app@dev",
		"build:extension@prod": "npm-run-all clean extension-res-copy:* build:core@prod build:app@prod",
		"build:app@dev": "cd ./plugin/app/ && node ./node_modules/@angular/cli/bin/ng --version && node ./node_modules/@angular/cli/bin/ng build",
		"build:app@prod": "npm run build:app@dev -- --prod",
		"build:core@dev": "cd ./plugin/core && node ./node_modules/webpack/bin/webpack.js --config ./core.webpack.config.js",
		"build:core@prod": "npm run build:core@dev -- --mode production",
		"--------START-DESKTOP-WIP----------": "----------------------------",
		"build:desktop:runner": "node ./node_modules/typescript/lib/tsc.js -p desktop/tsconfig.desktop.json",
		"build:desktop@dev": "npm run build:app@dev -- --base-href --configuration=desktop",
		"build:desktop@prod": "npm run build:app@dev -- --base-href --configuration=desktop:prod",
		"watch:desktop": "npm run build:desktop@dev -- --watch",
		"start:desktop": "npm run clean && npm run build:desktop:runner && npm-run-all --print-label --race --parallel watch:desktop electron:dev",
		"electron:dev": "run-electron ./dist/desktop.run.js",
		"electron:build:win64": "npm-run-all clean build:desktop:runner build:desktop@prod && electron-builder build --windows --x64",
		"electron:build:linux": "npm-run-all clean build:desktop:runner build:desktop@prod && electron-builder build --linux --x64",
		"----------END-DESKTOP-WIP----------": "----------------------------",
		"clean": "npm-run-all clean:*",
		"clean:dist": "node ./node_modules/del-cli/cli.js ./dist/",
		"clean:package": "node ./node_modules/del-cli/cli.js ./package/",
		"package": "npm-run-all clean build:extension@prod archive",
		"postinstall": "cd ./plugin/core/ && npm install && cd ../app/ && npm install",
		"extension-res-copy:manifest": "node ./node_modules/cpy-cli/cli.js ./plugin/manifest.json ./dist/",
		"extension-res-copy:install-guide": "node ./node_modules/cpy-cli/cli.js ./plugin/INSTALL.txt ./dist/",
		"test": "npm-run-all clean test:core test:app",
		"test:app": "cd ./plugin/app/ && node ./node_modules/@angular/cli/bin/ng test --watch=false",
		"test:app:no-source-map": "npm run test:app -- --source-map=false",
		"test:app-ui-browser": "npm run test:app -- --browsers Chrome",
		"test:core": "cd ./plugin/core && node ./node_modules/karma/bin/karma start karma.conf.js --single-run",
		"test:core-ui-browser": "npm run test:core -- --browsers Chrome",
		"tslint-fix:core": "node ./plugin/core/node_modules/tslint/bin/tslint -c ./tslint.json ./plugin/core/**/*.ts ./plugin/shared/**/*.ts --fix",
		"tslint-fix:app": "cd ./plugin/app/ && node ./node_modules/@angular/cli/bin/ng lint app --fix",
		"start:extension": "npm run watch:extension",
		"watch:extension": "npm run clean && npm-run-all extension-res-copy:* && npm-run-all --print-label --parallel watch:app watch:core",
		"watch:app": "npm run build:app@dev -- --watch",
		"watch:core": "npm run build:core@dev -- --watch",
		"wipe": "npm run clean && npm run wipe:package-locks && npm run wipe:node-modules",
		"wipe:node-modules": "node ./node_modules/del-cli/cli.js ./node_modules/ ./plugin/core/node_modules/ ./plugin/app/node_modules/",
		"wipe:package-locks": "node ./node_modules/del-cli/cli.js ./package-lock.json ./plugin/core/package-lock.json ./plugin/app/package-lock.json",
		"archive": "node -e \"const bestzip = require('bestzip');const manifest = require('./dist/manifest.json');const fs = require('fs');const cwd = process.cwd() + '/dist/';const target = 'package/';const filename = 'v' + manifest.version_name.split(' ').join('_').toLowerCase() + '_' + (function now() {const pad = (num) => {return (num).toString().padStart(2, '0');}, d = new Date();return d.getFullYear() + '-' + pad(d.getMonth() + 1) + '-' + pad(d.getDate()) + '-' + pad(d.getHours()) + '-' + pad(d.getMinutes());}()) + '.zip';const output = '../' + target + filename;if (!fs.existsSync(target)) fs.mkdirSync(target);bestzip.nodeZip({source: '*', cwd: cwd, destination: output}).then(() => {console.log('Generated archive ' + filename);process.exit(0);}).catch((err) => {console.error(err.stack);process.exit(1);});\""
	},
	"config": {
		"unsafe-perm": true
	},
	"repository": {
		"type": "git",
		"url": "https://github.com/thomaschampagne/elevate"
	},
	"author": {
		"name": "Thomas Champagne",
		"email": "th.champagne@gmail.com",
		"web": "https://thomaschampagne.github.io"
	},
	"contributors": [
		{
			"name": "Thomas Champagne",
			"email": "th.champagne@gmail.com",
			"web": "https://thomaschampagne.github.io"
		}
	],
	"license": "MIT",
	"readme": "README.md",
	"devDependencies": {
		"bestzip": "^2.1.2",
		"cpy-cli": "^2.0.0",
		"del-cli": "^1.1.0",
		"electron": "^4.0.6",
		"electron-builder": "^20.38.5",
		"npm-run-all": "^4.1.5",
		"run-electron": "^0.1.0",
		"run-sequence": "^2.2.1",
		"typescript": "^3.3.0"
	},
	"build": {
		"appId": "com.thomaschampagne.elevate",
		"productName": "elevate-desktop-app",
		"directories": {
			"output": "package/"
		},
		"files": [
			"!**/*",
			"dist/**/*.*"
		],
		"win": {
			"target": [
				"portable"
			]
		},
		"mac": {
			"target": [
				"dmg"
			]
		},
		"linux": {
			"target": [
				"AppImage"
			]
		}
	},
	"main": "./dist/desktop.run.js"
}
